<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrushersCafe - Premium Order</title>
    <style>
        :root { --gold: #D4AF37; --black: #050505; --card: #121212; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--black); color: white; margin: 0; padding: 15px; }
        h2 { text-align: center; color: var(--gold); letter-spacing: 2px; text-transform: uppercase; margin-top: 20px; }
        
        /* Premium Category Header */
        .category-header { 
            background: linear-gradient(45deg, #D4AF37, #B8860B); color: black; 
            padding: 15px; cursor: pointer; font-weight: bold; border-radius: 10px; 
            margin-top: 15px; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .category-content { 
            max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; 
            background: var(--card); border-radius: 0 0 10px 10px;
        }
        .category-content.open { max-height: 1000px; padding: 10px; border: 1px solid #222; }
        
        /* Item Row with Quantity Selector */
        .item { display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid #222; align-items: center; }
        .item-info { flex: 1; }
        .item-name { font-size: 1.1rem; font-weight: 500; }
        .item-price { color: var(--gold); font-size: 0.9rem; }
        
        .qty-controls { display: flex; align-items: center; background: #222; border-radius: 5px; padding: 5px; }
        .qty-btn { background: var(--gold); color: black; border: none; width: 30px; height: 30px; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .qty-val { width: 35px; text-align: center; font-weight: bold; font-size: 1rem; }
        
        /* Bullet Proof Bottom Bar */
        .order-bar { position: fixed; bottom: 0; left: 0; right: 0; background: var(--card); padding: 15px; border-top: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
        .total-info { font-size: 1.2rem; font-weight: bold; }
        .order-btn { background: var(--gold); color: black; padding: 12px 25px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <h2>‚öúÔ∏è CrushersCafe ‚öúÔ∏è</h2>
    <p style="text-align:center; color:#666; font-size:0.8rem;">Ajmer's Most Premium Taste</p>

    <div id="menu-container">
        </div>

    <div style="height: 100px;"></div> <div class="order-bar">
        <div class="total-info">Total: ‚Çπ<span id="grand-total">0</span></div>
        <button class="order-btn" onclick="placeOrder()">üöÄ Order Now</button>
    </div>

    <script>
        const scriptURL = 'YOUR_APPS_SCRIPT_URL_HERE'; // APNA URL YAHAN DALO

        const menuData = {
            "üçï Pizza": [
                { name: "Margherita", price: 150 },
                { name: "Paneer Tikka Pizza", price: 210 }
            ],
            "üçî Burger": [
                { name: "Aloo Tikki Burger", price: 60 },
                { name: "Cheese Burger", price: 90 }
            ],
            "ü•™ Sandwich": [
                { name: "Veg Grilled", price: 80 },
                { name: "Paneer Sandwich", price: 120 }
            ],
            "‚òï Tea & Coffee": [
                { name: "Masala Tea", price: 20 },
                { name: "Cold Coffee", price: 70 }
            ],
            "ü•§ Coldrinks": [
                { name: "Coke 500ml", price: 40 },
                { name: "Water Bottle", price: 20 }
            ]
        };

        let cart = {};

        function renderMenu() {
            const container = document.getElementById('menu-container');
            for (let cat in menuData) {
                let html = `<div class="category-header" onclick="toggleCategory('${cat}')">${cat} <span>‚ñº</span></div>`;
                html += `<div id="${cat}" class="category-content">`;
                menuData[cat].forEach(item => {
                    html += `
                        <div class="item">
                            <div class="item-info">
                                <div class="item-name">${item.name}</div>
                                <div class="item-price">‚Çπ${item.price}</div>
                            </div>
                            <div class="qty-controls">
                                <button class="qty-btn" onclick="updateQty('${item.name}', -1, ${item.price})">-</button>
                                <div class="qty-val" id="qty-${item.name}">0</div>
                                <button class="qty-btn" onclick="updateQty('${item.name}', 1, ${item.price})">+</button>
                            </div>
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            }
        }

        function toggleCategory(id) {
            document.getElementById(id).classList.toggle('open');
        }

        function updateQty(name, change, price) {
            if (!cart[name]) cart[name] = { qty: 0, price: price };
            cart[name].qty += change;
            if (cart[name].qty < 0) cart[name].qty = 0;
            
            document.getElementById(`qty-${name}`).innerText = cart[name].qty;
            calculateTotal();
        }

        function calculateTotal() {
            let total = 0;
            for (let name in cart) { total += cart[name].qty * cart[name].price; }
            document.getElementById('grand-total').innerText = total;
        }

        async function placeOrder() {
            let total = document.getElementById('grand-total').innerText;
            if (total == "0") { alert("Bhai, kuch toh select karo!"); return; }

            let name = prompt("Aapka Naam?");
            let phone = prompt("Aapka Phone Number?");
            if (!name || !phone || phone.length < 10) { alert("Sahi details dalo!"); return; }

            let items = "";
            for (let n in cart) {
                if (cart[n].qty > 0) items += `${n} (x${cart[n].qty}), `;
            }

            // Bullet Proof Logic
            alert("Order ja raha hai... Total: ‚Çπ" + total);
            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify({oid: "ORD"+Date.now(), name: name, phone: phone, items: items, total: total})
            }).then(() => { alert("‚úÖ Order Success! Gmail check karein."); });
        }

        renderMenu();
    </script>
</body>
</html>
