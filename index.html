<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrushersCafe - Order Online</title>
    <style>
        :root { --gold: #D4AF37; --black: #050505; --card: #121212; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--black); color: white; margin: 0; padding: 15px; padding-bottom: 100px; }
        
        .header { text-align: center; border-bottom: 2px solid var(--gold); padding-bottom: 15px; margin-bottom: 20px; }
        h2 { color: var(--gold); letter-spacing: 2px; text-transform: uppercase; margin: 10px 0; }
        .info { font-size: 0.85rem; color: #aaa; line-height: 1.4; }

        .category-header { 
            background: linear-gradient(45deg, #D4AF37, #B8860B); color: black; 
            padding: 15px; cursor: pointer; font-weight: bold; border-radius: 10px; 
            margin-top: 15px; display: flex; justify-content: space-between; align-items: center;
        }
        .category-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; background: var(--card); }
        .category-content.open { max-height: 1000px; padding: 10px; border: 1px solid #222; border-radius: 0 0 10px 10px; }
        
        .item { display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid #222; align-items: center; }
        .item-name { font-size: 1.1rem; }
        .item-price { color: var(--gold); font-size: 0.9rem; }
        
        .qty-controls { display: flex; align-items: center; background: #222; border-radius: 5px; padding: 5px; }
        .qty-btn { background: var(--gold); color: black; border: none; width: 30px; height: 30px; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .qty-val { width: 35px; text-align: center; font-weight: bold; }
        
        .footer-bar { position: fixed; bottom: 0; left: 0; right: 0; background: var(--card); padding: 15px; border-top: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
        .total-box { font-size: 1.2rem; font-weight: bold; }
        .order-btn { background: var(--gold); color: black; padding: 12px 25px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(212,175,55,0.3); }
    </style>
</head>
<body>

    <div class="header">
        <h2>‚öúÔ∏è CrushersCafe ‚öúÔ∏è</h2>
        <div class="info">
            üìç Opposite City Mall, Ajmer<br>
            üìû +91 8078619566 | üìß crushescafe@gmail.com
        </div>
    </div>

    <div id="menu-container">
        <div class="category-header" onclick="toggle('piz')">üçï PIZZA <span>‚ñº</span></div>
        <div id="piz" class="category-content">
            <div class="item">
                <div class="item-info"><div class="item-name">Margherita</div><div class="item-price">‚Çπ150</div></div>
                <div class="qty-controls">
                    <button class="qty-btn" onclick="updateQty('Margherita', -1, 150)">-</button>
                    <span id="qty-Margherita" class="qty-val">0</span>
                    <button class="qty-btn" onclick="updateQty('Margherita', 1, 150)">+</button>
                </div>
            </div>
        </div>

        <div class="category-header" onclick="toggle('bur')">üçî BURGER <span>‚ñº</span></div>
        <div id="bur" class="category-content">
            <div class="item">
                <div class="item-info"><div class="item-name">Veg Cheese Burger</div><div class="item-price">‚Çπ90</div></div>
                <div class="qty-controls">
                    <button class="qty-btn" onclick="updateQty('Veg Cheese Burger', -1, 90)">-</button>
                    <span id="qty-Veg Cheese Burger" class="qty-val">0</span>
                    <button class="qty-btn" onclick="updateQty('Veg Cheese Burger', 1, 90)">+</button>
                </div>
            </div>
        </div>

        <div class="category-header" onclick="toggle('tea')">‚òï TEA & COFFEE <span>‚ñº</span></div>
        <div id="tea" class="category-content">
            <div class="item">
                <div class="item-info"><div class="item-name">Masala Tea</div><div class="item-price">‚Çπ20</div></div>
                <div class="qty-controls">
                    <button class="qty-btn" onclick="updateQty('Masala Tea', -1, 20)">-</button>
                    <span id="qty-Masala Tea" class="qty-val">0</span>
                    <button class="qty-btn" onclick="updateQty('Masala Tea', 1, 20)">+</button>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-bar">
        <div class="total-box">Total: ‚Çπ<span id="grand-total">0</span></div>
        <button class="order-btn" onclick="placeOrder()">üöÄ Order on WhatsApp</button>
    </div>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbziUkJh39aR_PvcN6PWPQRM1qzIMRpyb8wFB-r5FZQbRW1eB2tpe7dN1a924Ggupi5Rag/exec'; 
        const myWhatsApp = "918078619566"; // Aapka number
        let cart = {};

        function toggle(id) { document.getElementById(id).classList.toggle('open'); }

        function updateQty(name, change, price) {
            if (!cart[name]) cart[name] = { qty: 0, price: price };
            cart[name].qty += change;
            if (cart[name].qty < 0) cart[name].qty = 0;
            document.getElementById(`qty-${name}`).innerText = cart[name].qty;
            
            let total = 0;
            for (let n in cart) { total += cart[n].qty * cart[n].price; }
            document.getElementById('grand-total').innerText = total;
        }

        async function placeOrder() {
            let total = document.getElementById('grand-total').innerText;
            if (total == "0") { alert("Bhai, khali order mat bhejo!"); return; }
            let name = prompt("Aapka Naam?");
            let name = prompt("Aapka Address?");
            let phone = prompt("Aapka Number?");
            if (!phone || phone.length < 10) { alert("Sahi number dalo!"); return; }
            let items = "";
            for (let n in cart) { if (cart[n].qty > 0) items += n + " (x" + cart[n].qty + "), "; }

            // 1. Google Sheet/Mail Backend
            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify({oid: "ORD"+Date.now(), name: name, items: items, total: total})
            });

            // 2. WhatsApp Direct
            let msg = `üî• *NEW ORDER: CrushersCafe* üî•%0Aüë§ *Name:* ${name}%0Aüì¶ *Items:* ${items}%0Aüí∞ *Total:* ‚Çπ${total}%0Aüìç *Loc:* Ajmer`;
            window.open(`https://wa.me/${myWhatsApp}?text=${msg}`, '_blank');
        }
    </script>
</body>
</html>        
