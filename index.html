<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrushersCafe - Premium Order</title>
    <style>
        :root { --gold: #D4AF37; --black: #050505; --card: #121212; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--black); color: white; margin: 0; padding: 15px; padding-bottom: 100px; }
        
        .header { text-align: center; border-bottom: 2px solid var(--gold); padding-bottom: 15px; margin-bottom: 20px; }
        h2 { color: var(--gold); letter-spacing: 2px; text-transform: uppercase; margin: 10px 0; }
        .info { font-size: 0.85rem; color: #aaa; line-height: 1.4; }

        /* Premium Category Animation */
        .category-header { 
            background: linear-gradient(45deg, #D4AF37, #B8860B); color: black; 
            padding: 15px; cursor: pointer; font-weight: bold; border-radius: 10px; 
            margin-top: 15px; display: flex; justify-content: space-between; align-items: center;
        }
        .category-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; background: var(--card); }
        .category-content.open { max-height: 1000px; padding: 10px; border: 1px solid #222; border-radius: 0 0 10px 10px; }
        
        /* Quantity Selector Design */
        .item { display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid #222; align-items: center; }
        .item-name { font-size: 1.1rem; }
        .item-price { color: var(--gold); font-size: 0.9rem; }
        
        .qty-controls { display: flex; align-items: center; background: #222; border-radius: 5px; padding: 5px; }
        .qty-btn { background: var(--gold); color: black; border: none; width: 30px; height: 30px; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .qty-val { width: 35px; text-align: center; font-weight: bold; }
        
        /* Bullet-Proof Footer */
        .footer-bar { position: fixed; bottom: 0; left: 0; right: 0; background: var(--card); padding: 15px; border-top: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
        .total-box { font-size: 1.2rem; font-weight: bold; }
        .order-btn { background: var(--gold); color: black; padding: 12px 25px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div class="header">
        <h2>‚öúÔ∏è CrushersCafe ‚öúÔ∏è</h2>
        <div class="info">
            üìç Opposite City Mall, Ajmer<br>
            üìû +91 99XXXXXX27 | üìß crushescafe@gmail.com
        </div>
    </div>

    <div id="menu-container"></div>

    <div class="footer-bar">
        <div class="total-box">Total: ‚Çπ<span id="grand-total">0</span></div>
        <button class="order-btn" onclick="placeOrder()">üöÄ Order on WhatsApp</button>
    </div>

    <script>
        // Aapka naya menuData jo screenshots mein hai
        const menuData = {
            "üçï Pizza": [
                { name: "Margherita", price: 150 },
                { name: "Paneer Tikka Pizza", price: 210 }
            ],
            "üçî Burger": [
                { name: "Aloo Tikki Burger", price: 60 },
                { name: "Cheese Burger", price: 90 }
            ],
            "ü•™ Sandwich": [
                { name: "Veg Grilled", price: 80 },
                { name: "Paneer Sandwich", price: 120 }
            ],
            "‚òï Tea & Coffee": [
                { name: "Masala Tea", price: 20 },
                { name: "Cold Coffee", price: 70 }
            ],
            "ü•§ Coldrinks": [
                { name: "Coke 500ml", price: 40 },
                { name: "Water Bottle", price: 20 }
            ]
        };

        const scriptURL = 'YOUR_APPS_SCRIPT_URL_HERE'; // APNA URL YAHAN DALO
        const myWhatsApp = "918078619566"; // Aapka Ajmer cafe number
        let cart = {};

        // Menu ko design ke saath render karna
        function renderMenu() {
            const container = document.getElementById('menu-container');
            for (let cat in menuData) {
                let html = `<div class="category-header" onclick="toggle('${cat}')">${cat} <span>‚ñº</span></div>`;
                html += `<div id="${cat}" class="category-content">`;
                menuData[cat].forEach(item => {
                    html += `
                        <div class="item">
                            <div><div class="item-name">${item.name}</div><div class="item-price">‚Çπ${item.price}</div></div>
                            <div class="qty-controls">
                                <button class="qty-btn" onclick="updateQty('${item.name}', -1, ${item.price})">-</button>
                                <span id="qty-${item.name}" class="qty-val">0</span>
                                <button class="qty-btn" onclick="updateQty('${item.name}', 1, ${item.price})">+</button>
                            </div>
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            }
        }

        function toggle(id) { document.getElementById(id).classList.toggle('open'); }

        function updateQty(name, change, price) {
            if (!cart[name]) cart[name] = { qty: 0, price: price };
            cart[name].qty += change;
            if (cart[name].qty < 0) cart[name].qty = 0;
            document.getElementById(`qty-${name}`).innerText = cart[name].qty;
            
            let total = 0;
            for (let n in cart) { total += cart[n].qty * cart[n].price; }
            document.getElementById('grand-total').innerText = total;
        }

        async function placeOrder() {
            let total = document.getElementById('grand-total').innerText;
            if (total == "0") { alert("Bhai, khali order mat bhejo!"); return; }

            let name = prompt("Aapka Naam?");
            let items = "";
            for (let n in cart) { if (cart[n].qty > 0) items += n + " (x" + cart[n].qty + "), "; }

            // 1. Google Sheet Backend
            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify({oid: "ORD"+Date.now(), name: name, items: items, total: total})
            });

            // 2. WhatsApp Direct
            let msg = `üî• *NEW ORDER: CrushersCafe* üî•%0Aüë§ *Name:* ${name}%0Aüì¶ *Items:* ${items}%0Aüí∞ *Total:* ‚Çπ${total}%0Aüìç Ajmer`;
            window.open(`https://wa.me/${myWhatsApp}?text=${msg}`, '_blank');
        }

        renderMenu();
    </script>
</body>
</html>
